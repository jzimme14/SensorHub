<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        #dashboard {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .widget {
            width: 300px;
            margin: 10px;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            background-color: #f9f9f9;
        }

        .chart {
            width: 600px;
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            background-color: #f9f9f9;
        }
    </style>
</head>

<body>
    <div id="dashboard">
        <div class="widget" id="temperatureWidget">
            <h2>Temperatur</h2>
            <div id="temperatureValue">-- °C</div>
        </div>
        <div class="widget" id="humidityWidget">
            <h2>Luftfeuchtigkeit</h2>
            <div id="humidityValue">-- %</div>
        </div>
        <div class="widget" id="pressureWidget">
            <h2>Druck</h2>
            <div id="pressureValue">-- hPa</div>
        </div>
        <div class="chart" id="chart">
            <h2>Diagramm</h2>
        </div>
    </div>

    <script>
        // Dummy-Daten für das Dashboard
        var temperature = 25.5; // Dummy-Temperaturwert in Celsius
        var humidity = 50; // Dummy-Luftfeuchtigkeitswert in Prozent
        var pressure = 1013.25; // Dummy-Druckwert in hPa

        // Aktualisiere die Werte im Dashboard
        function updateDashboard() {
            document.getElementById('temperatureValue').innerText = temperature + ' °C';
            document.getElementById('humidityValue').innerText = humidity + ' %';
            document.getElementById('pressureValue').innerText = pressure + ' hPa';
        }

        // Aktualisiere das Diagramm
        function updateChart() {
            var data = [{
                x: ['Temperature', 'Humidity', 'Pressure'],
                y: [temperature, humidity, pressure],
                type: 'bar'
            }];

            var layout = {
                title: 'Temperature, Humidity, and Pressure',
                xaxis: {
                    title: 'Measurement'
                },
                yaxis: {
                    title: 'Value'
                }
            };

            Plotly.newPlot('chart', data, layout);
        }

        // Dummy-Funktion zum Aktualisieren der Daten (ersetze dies durch deine Logik zum Abrufen der Daten aus der Datenquelle)
        function updateData() {
            temperature = Math.random() * 30 + 10; // Zufälliger Temperaturwert zwischen 10 und 40 Grad Celsius
            humidity = Math.random() * 50 + 20; // Zufälliger Luftfeuchtigkeitswert zwischen 20 und 70 Prozent
            pressure = Math.random() * 200 + 800; // Zufälliger Druckwert zwischen 800 und 1000 hPa

            updateDashboard();
            updateChart();
        }

        // Initialisiere das Dashboard
        updateData();

        // Aktualisiere die Daten alle 5 Sekunden (zum Testen)
        setInterval(updateData, 5000);
    </script>
</body>

</html>